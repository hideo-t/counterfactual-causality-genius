<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>もし火が使えなければ音楽はなかった</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Zen+Kaku+Gothic+New:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-card: #1a1a2e;
      --text-primary: #e0ddd5;
      --text-secondary: #8a8a9a;
      --accent: #4a9eff;
      --accent-dim: #2a5a9a;
      --gold: #c4a35a;
      --chapter-border: #2a2a3e;
      --serif: 'Noto Serif JP', 'Hiragino Mincho ProN', serif;
      --sans: 'Zen Kaku Gothic New', 'Hiragino Kaku Gothic ProN', sans-serif;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--bg-primary);
      color: var(--text-primary);
      font-family: var(--serif);
      font-size: 17px;
      line-height: 1.95;
      min-height: 100vh;
    }

    /* ─── Header ─── */
    .hero {
      position: relative;
      text-align: center;
      padding: 100px 20px 80px;
      background: linear-gradient(180deg, #1a2a4a 0%, #0f1a2f 100%);
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse at 50% 30%, rgba(120,180,255,0.15) 0%, transparent 70%);
    }
    .hero-title {
      font-family: var(--serif);
      font-size: clamp(1.8rem, 5vw, 3.2rem);
      font-weight: 700;
      letter-spacing: 0.08em;
      color: #ffffff;
      text-shadow: 0 2px 20px rgba(100,160,255,0.3);
      margin-bottom: 12px;
      position: relative;
    }
    .hero-sub {
      font-family: var(--sans);
      font-size: 0.9rem;
      color: #b0c4de;
      letter-spacing: 0.15em;
    }
    .hero-line {
      width: 60px; height: 1px;
      background: var(--gold);
      margin: 28px auto 0;
    }

    /* ─── Digest Carousel ─── */
    .carousel-wrap {
      background: linear-gradient(180deg, #0f1a2f 0%, #0a0e18 100%);
      padding: 24px 0 20px;
      overflow: hidden;
    }
    .carousel-track {
      display: flex;
      gap: 14px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      padding: 0 calc((100vw - min(85vw, 600px)) / 2);
      scrollbar-width: none;
    }
    .carousel-track::-webkit-scrollbar { display: none; }
    .carousel-slide {
      flex: 0 0 min(85vw, 280px);
      scroll-snap-align: center;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
      text-decoration: none;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      transition: transform 0.2s;
      aspect-ratio: 3/2;
    }
    .carousel-slide:active { transform: scale(0.97); }
    .carousel-slide img {
      width: 100%; height: 100%;
      object-fit: cover;
      display: block;
    }
    .carousel-caption {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.85));
      padding: 28px 12px 10px;
      color: #fff;
      font-size: 0.85rem;
      font-family: var(--serif);
      line-height: 1.4;
    }
    .carousel-ch {
      display: inline-block;
      font-size: 0.7rem;
      color: var(--gold);
      margin-right: 6px;
      font-family: var(--sans);
      letter-spacing: 0.06em;
    }
    .carousel-dots {
      text-align: center;
      padding-top: 12px;
    }
    .carousel-dot {
      display: inline-block;
      width: 7px; height: 7px;
      border-radius: 50%;
      background: rgba(255,255,255,0.25);
      margin: 0 4px;
      cursor: pointer;
      transition: background 0.3s, transform 0.3s;
    }
    .carousel-dot.active {
      background: var(--gold);
      transform: scale(1.3);
    }
    @media (min-width: 600px) {
      .carousel-slide { flex: 0 0 280px; }
      .carousel-track { padding: 0 calc((100vw - 900px) / 2); gap: 18px; }
    }

    /* ─── Navigation ─── */
    .nav-bar {
      position: sticky; top: 0; z-index: 100;
      background: rgba(10,10,15,0.92);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--chapter-border);
      padding: 10px 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      overflow-x: auto;
      font-family: var(--sans);
      font-size: 0.8rem;
    }
    .nav-bar .nav-title {
      color: var(--gold);
      font-weight: 700;
      white-space: nowrap;
      margin-right: 8px;
    }
    .nav-bar a {
      color: var(--text-secondary);
      text-decoration: none;
      white-space: nowrap;
      padding: 4px 10px;
      border-radius: 4px;
      transition: all 0.2s;
    }
    .nav-bar a:hover {
      color: var(--accent);
      background: rgba(74,158,255,0.1);
    }

    /* ─── TOC ─── */
    .toc {
      max-width: 700px;
      margin: 60px auto 40px;
      padding: 0 20px;
    }
    .toc h3 {
      font-family: var(--sans);
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      color: var(--text-secondary);
      text-transform: uppercase;
      margin-bottom: 20px;
    }
    .toc-item {
      display: flex; align-items: center; gap: 16px;
      padding: 14px 18px;
      color: var(--text-primary);
      text-decoration: none;
      border-left: 2px solid var(--chapter-border);
      transition: all 0.25s;
      font-family: var(--sans);
      font-size: 0.95rem;
    }
    .toc-item:hover {
      border-color: var(--accent);
      background: rgba(74,158,255,0.04);
      padding-left: 24px;
    }
    .toc-num {
      font-size: 0.75rem;
      color: var(--accent-dim);
      font-weight: 700;
      min-width: 20px;
    }

    /* ─── Characters ─── */
    .characters {
      max-width: 700px;
      margin: 40px auto 60px;
      padding: 0 20px;
    }
    .characters h3 {
      font-family: var(--sans);
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      color: var(--text-secondary);
      margin-bottom: 20px;
    }
    .char-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
    }
    .char-card {
      background: var(--bg-card);
      border: 1px solid var(--chapter-border);
      border-radius: 8px;
      padding: 18px;
    }
    .char-name {
      font-family: var(--sans);
      font-weight: 700;
      font-size: 1rem;
      color: var(--gold);
      margin-bottom: 4px;
    }
    .char-meta {
      font-family: var(--sans);
      font-size: 0.75rem;
      color: var(--accent);
      margin-bottom: 8px;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .char-meta span {
      background: rgba(74,158,255,0.1);
      padding: 1px 8px;
      border-radius: 4px;
    }
    .char-appearance {
      font-size: 0.82rem;
      color: var(--text-secondary);
      line-height: 1.5;
      margin-bottom: 6px;
      border-left: 2px solid var(--chapter-border);
      padding-left: 10px;
    }
    .char-desc {
      font-size: 0.85rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* ─── Divider ─── */
    .section-divider {
      width: 40px; height: 1px;
      background: var(--chapter-border);
      margin: 0 auto;
    }

    /* ─── Chapter ─── */
    .chapter {
      max-width: 700px;
      margin: 0 auto;
      padding: 80px 20px;
      border-top: 1px solid var(--chapter-border);
    }
    .chapter-header {
      text-align: center;
      margin-bottom: 48px;
    }
    .chapter-number {
      font-family: var(--sans);
      font-size: 0.7rem;
      letter-spacing: 0.25em;
      color: var(--accent-dim);
      display: block;
      margin-bottom: 8px;
    }
    .chapter-title {
      font-family: var(--serif);
      font-size: clamp(1.3rem, 3vw, 1.8rem);
      font-weight: 700;
      letter-spacing: 0.05em;
    }
    .chapter-image {
      margin: 0 -20px 40px;
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid var(--chapter-border);
    }
    .chapter-image img {
      width: 100%;
      height: auto;
      display: block;
      opacity: 0.92;
    }
    .chapter-body p {
      margin-bottom: 1.2em;
      text-indent: 1em;
      text-align: justify;
    }
    .chapter-body p:empty {
      display: none;
    }

    /* ─── Footer ─── */
    .footer {
      text-align: center;
      padding: 60px 20px;
      font-family: var(--sans);
      font-size: 0.75rem;
      color: var(--text-secondary);
      border-top: 1px solid var(--chapter-border);
    }

    /* ─── Reading mode toggle ─── */
    .mode-toggle {
      position: fixed; bottom: 20px; right: 20px; z-index: 200;
      background: var(--bg-card);
      border: 1px solid var(--chapter-border);
      color: var(--text-secondary);
      font-family: var(--sans);
      font-size: 0.75rem;
      padding: 8px 14px;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .mode-toggle:hover {
      border-color: var(--accent);
      color: var(--accent);
    }


    /* --- TTS Read Aloud --- */
    .tts-fab {
      position: fixed; bottom: 80px; right: 20px; z-index: 200;
      width: 48px; height: 48px; border-radius: 50%;
      background: var(--accent); color: #fff; border: none;
      font-size: 22px; cursor: pointer;
      box-shadow: 0 4px 16px rgba(0,0,0,0.4);
      transition: all 0.3s;
      display: flex; align-items: center; justify-content: center;
    }
    .tts-fab:hover { transform: scale(1.1); }
    .tts-fab.speaking { background: #e74c3c; animation: tts-pulse 1.5s infinite; }
    @keyframes tts-pulse {
      0%,100% { box-shadow: 0 4px 16px rgba(231,76,60,0.4); }
      50% { box-shadow: 0 4px 24px rgba(231,76,60,0.7); }
    }
    .tts-bar {
      position: fixed; bottom: 0; left: 0; right: 0; z-index: 200;
      background: rgba(20,20,30,0.95); backdrop-filter: blur(12px);
      border-top: 1px solid var(--chapter-border);
      padding: 10px 16px; display: none;
      align-items: center; gap: 10px;
      font-family: var(--sans); font-size: 0.85rem;
    }
    .tts-bar.active { display: flex; flex-wrap: wrap; }
    .tts-bar button {
      background: none; border: 1px solid var(--text-secondary);
      color: var(--text-primary); border-radius: 6px;
      padding: 6px 12px; cursor: pointer; font-size: 0.8rem;
      white-space: nowrap; transition: all 0.2s;
    }
    .tts-bar button:hover { border-color: var(--accent); color: var(--accent); }
    .tts-bar .tts-info {
      flex: 1; color: var(--text-secondary);
      overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
      min-width: 80px;
    }
    .tts-bar .tts-speed {
      display: flex; align-items: center; gap: 4px;
      color: var(--text-secondary); font-size: 0.75rem;
    }
    .tts-bar .tts-speed input { width: 60px; accent-color: var(--accent); }
    body.light .tts-bar {
      background: rgba(245,245,240,0.95); border-top-color: #ddd;
    }
    body.light .tts-bar button { border-color: #999; color: #333; }
    body.light .tts-bar .tts-info { color: #666; }

    /* ─── Light mode ─── */
    body.light {
      --bg-primary: #f5f0e8;
      --bg-secondary: #ebe5d9;
      --bg-card: #fff;
      --text-primary: #2a2a2a;
      --text-secondary: #6a6a6a;
      --chapter-border: #d5cfc3;
      --accent: #2563eb;
      --accent-dim: #6b9eff;
      --gold: #8a6d2b;
    }

    /* ─── Responsive ─── */
    @media (max-width: 600px) {
      body { font-size: 15px; }
      .chapter { padding: 50px 16px; }
    }

    /* ─── Scroll progress ─── */
    .scroll-progress {
      position: fixed; top: 0; left: 0; z-index: 200;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--gold));
      width: 0%;
      transition: width 0.1s;
    }
  </style>
</head>
<body>
  <div class="scroll-progress" id="progress"></div>

  <header class="hero">
    <h1 class="hero-title">もし火が使えなければ音楽はなかった</h1>
    <p class="hero-sub">GENERATED WITH LOCAL AI — OLLAMA + STABLE DIFFUSION</p>
    <div class="hero-line"></div>
  </header>

  <nav class="nav-bar">
    <span class="nav-title">目次</span>
    <a href="#chapter-1">第1章</a><a href="#chapter-2">第2章</a><a href="#chapter-3">第3章</a><a href="#chapter-4">第4章</a><a href="#chapter-5">第5章</a><a href="#chapter-6">第6章</a>
  </nav>

  <div class="toc">
    <h3>— 目次 —</h3>
        <a href="#chapter-1" class="toc-item"><span class="toc-num">1</span><span class="toc-label">静寂の都市</span></a>
        <a href="#chapter-2" class="toc-item"><span class="toc-num">2</span><span class="toc-label">振動芸術の世界</span></a>
        <a href="#chapter-3" class="toc-item"><span class="toc-num">3</span><span class="toc-label">科学者の説明</span></a>
        <a href="#chapter-4" class="toc-item"><span class="toc-num">4</span><span class="toc-label">過去を探る</span></a>
        <a href="#chapter-5" class="toc-item"><span class="toc-num">5</span><span class="toc-label">新しい発見</span></a>
        <a href="#chapter-6" class="toc-item"><span class="toc-num">6</span><span class="toc-label">すべての始まり</span></a>
  </div>

  <div class="characters">
    <h3>— 登場人物 —</h3>
    <div class="char-grid">
      <div class="char-card">
        <div class="char-name">佐藤有里</div>
        <div class="char-meta"><span>主人公</span><span>25歳</span></div>
        <div class="char-appearance">長い黒髪と青色の目。シンプルな白いシャツにジーンズ姿。</div>
        <div class="char-desc">好奇心が強く、世界の違和感に気づく人物</div>
      </div>
      <div class="char-card">
        <div class="char-name">宮崎浩平</div>
        <div class="char-meta"><span>サブキャラ</span><span>30歳</span></div>
        <div class="char-appearance">茶色い短髪と明るい緑の目。黒いジャケットにジーンズを履いて、カジュアルなスタイル。</div>
        <div class="char-desc">科学者として真面目だが、情熱的で献身的な人</div>
      </div>
    </div>
  </div>

  <div class="section-divider"></div>

  <main>

    <section class="chapter" id="chapter-1">
      <div class="chapter-header">
        <span class="chapter-number">第1章</span>
        <h2 class="chapter-title">静寂の都市</h2>
      </div>
      
      <div class="chapter-body">
        <p>第1章　静寂の都市</p>

        <p>薄暗い朝靄が街に広がる。冷たい湿気と排ガスの匂いが空気中で絡み合い、歩行者の鼻先をくすぐった。アスファルトはまだ濡れており、足音だけが響き渡る。青白い光線が建物の端々に沿って伸び、人間の影を薄汚れた模様へと変形させていった。</p>

        <p>有里は早朝から働き始めるカフェに向かっていた。彼女の心臓の中で静かな鼓動が繰り返し脈打つ。街角で知人の女性社員と行き逢い、彼女は微笑んで「お疲れさま」と言った。「ありがとう」。</p>
        <p>顔の表情だけでは伝えられない何気ない会話を、彼らは振動器を通じて体感した。</p>

        <p>カフェに入ると暖炉が炎を燃やしている。しかし、それはただ光る赤玉でしかなく、火の音も匂いもなく静かだった。「朝から頑張ってるね」と店員があけすけな声色で言った。</p>
        <p>「あぁ」彼女は窓際のテーブルに座りながら振り返って答えた。</p>

        <p>有里がコーヒーを一口啜ると、舌先にほのかな苦みを感じた。液体が喉を通る音がないのでその感覚も鮮明だった。外から聞こえるのはただ静けさだけ。遠くで鳥の羽ばたく気配は感じられるが、正確には聞こえてこない。</p>

        <p>有里はふと友人を振り返り、彼女の話す言葉をじっと耳に当てた。「あら」とその女性も不思議そうに眉間にしわを寄せ、「なんだか変なことした？」</p>
        <p>「いや…」 彼女が問いかける。</p>
        <p>「ただ、いま自分が君の声を感じていることに気づいて」</p>

        <p>有里は自分の胸や背骨全体を通じて感じる微細な振動を再確認する。それは言葉とは別で音楽でもない。ある種独特の感覚だった。</p>

        <p>店内では他にも客がいる。「朝から元気だね」</p>
        <p>「いつも通り」と彼女もにっこりと笑った。</p>
        <p>しかし、有里にはその会話がまるで風景画のように静かに流れていたように見えたのであった。</p>
      </div>
    </section>
    <section class="chapter" id="chapter-2">
      <div class="chapter-header">
        <span class="chapter-number">第2章</span>
        <h2 class="chapter-title">振動芸術の世界</h2>
      </div>
      
      <div class="chapter-body">
        <p>第2章　振動芸術の世界</p>

        <p>朝日が街に差し込み、青と灰色のかすかな雲が薄曖昧な影を作り出す。アスファルトの上で反射した光は静寂の中に響き渡る水琴窟のような音を奏でていた。佐藤有里は自宅のベランダから見える景色にしばし佇んだ後、家事を済ませるとすぐに図書館へ向かう。</p>

        <p>道端にはまだ露がついており、靴先で軽く踏むと小さな水音と共に微かな振動感が立ち上る。有里はその感触を全身で捉えながら歩き続ける。彼女にとっての世界は常に静寂でありながらも、様々な刺激を感じ取ることができる。</p>

        <p>図書館にはまだ他の利用者が少なく、広いフロアにただ光と影だけが浮かび上がっていた。「音楽がない」という事実を初めて疑問に思ったのはここから始まった。有里は早朝から開いている研究室へ向かい、古い文献のページを開く。</p>

        <p>「振動芸術」に関する資料を探し始めたとき、彼女は静寂の中で新たな気づきを得た。「音楽と違う何か」という言葉が頁々に記されていた。それは単なる代用品ではなく、別の形で世界を捉えようとする試みだったのだと気付かされた。</p>

        <p>有里は古いレコード盤を見つけて興味を持った。円形状の黒い磁性体に刻まれた溝には何らかの情報が詰まっている。それは今ではあまり使われなくなったメディアで、過去の人々にとって大切な記憶を閉じ込めていた。</p>

        <p>彼女は図書館の中で静寂の中に埋もれた音楽について思う存分調べる。ページを開き、文字を追うたびにその世界が少しずつ明らかになっていった。「振動芸術」と「音楽」の違いを深く考えることで、有里の中では新たな問いが始まった。</p>

        <p>彼女は資料室から出てきたときには、周囲の人々とのコミュニケーションがより複雑であることを実感していた。しかし同時に、自分自身の中で何か大切なものが芽生え始めていると感じた。</p>
        <p>空気が温かくなり、日の光も柔らかな色調を帯びてくる。</p>

        <p>遠くで微弱な振動器の音を感じ取りながら歩き出す有里の心には、「なぜ」が渦巻いていた。</p>
      </div>
    </section>
    <section class="chapter" id="chapter-3">
      <div class="chapter-header">
        <span class="chapter-number">第3章</span>
        <h2 class="chapter-title">科学者の説明</h2>
      </div>
      
      <div class="chapter-body">
        <p>第3章　科学者の説明</p>

        <p>朝日が街に柔らかな光を広げ、人々の活動が始まる直前の静けさ。有里は宮崎浩平と約束したカフェに向かう。窓際のテーブルで彼は待ち受けている。</p>

        <p>「こんにちは」と有里が声をかける。</p>
        <p>「お疲れ様です」浩平も笑顔で返す。「コーヒー、淹れました」</p>

        <p>二人は静かな音楽に耳を傾けようともせず、代わりに体全体で振動器の微細な波形を感じる。カフェ内には小さな機械が置かれている。</p>

        <p>「火がない世界での話は何度も聞いたけど」有里が切り出す。「でもまだ理解できていない部分が多いんです」</p>

        <p>浩平は静かに頷く。</p>
        <p>「それは自然なことだと思いますね」</p>

        <p>「なぜ、火そのものが消えたのか。それが一番気になります」</p>
        <p>「難しい問いですね」と浩平。</p>

        <p>カフェの外から遠くで働く人々の低い声が漏れ聞こえてくる。木々と石畳が織り成す朝霞色の光を浴びて歩いている。</p>
        <p>「何年経っても、その答えは見つからないでしょう」宮崎浩平。「火自体の消滅という現象には科学的な説明がない」</p>

        <p>有里は困惑した表情で目を見開く。</p>

        <p>「しかし、それ以前に問題があるんです。音楽が存在しない世界観は理解できますか？」彼女。</p>
        <p>「それは振動芸術と同等だと言えるでしょう」浩平。「我々の感覚表現における代替案として発展してきました」</p>

        <p>窓枠に反射する朝日の光を眺めながら、二人は静かな会話を続ける。</p>

        <p>「音楽とは何なのか。その定義すら揺らいでいる気がします」と有里。</p>
        <p>「確かに」浩平。「我々の世代にとっては不思議な世界が広がっています」</p>

        <p>彼女は窓際から目を離し、机上の振動器を見つめる。</p>

        <p>「しかし音楽を感じる方法があるなら、それは必ず何か意味を持っているはずです。それが何なのか知りたいんです」</p>
        <p>「その探求心には敬意を表しますね」と宮崎浩平。「あなた自身の視点で答えを探してみてください」</p>

        <p>カフェの中では静かな会話が続きながら、外からは街が目覚め始める様子も感じられる。人々と車が行き交う音。</p>
        <p>「ありがとうございます」有里は振動器を見つめたまま言う。</p>

        <p>二人ともコーヒーを口に運ぶ。「朝の忙しさが始まる前に」と浩平。「話をしたかったんだね」</p>

        <p>彼女は静かに頷くだけだった。</p>

        <p>カフェの外から、新たな一日が始まりつつある音や匂い。人々と車が混じり合う街の情景。</p>
        <p>「あなた自身で考えることを止めないでください」宮崎浩平。「それが答えを見つける鍵になるかもしれません」</p>

        <p>有里は窓際に戻る。朝日に照らされた、静かな街並みを見てからカフェを出ていく。</p>

        <p>人々と車が交差する音や匂い。</p>
        <p>「今日も一日が始まるんだ」と彼女は小さく呟きながら歩み出す。</p>
      </div>
    </section>
    <section class="chapter" id="chapter-4">
      <div class="chapter-header">
        <span class="chapter-number">第4章</span>
        <h2 class="chapter-title">過去を探る</h2>
      </div>
      
      <div class="chapter-body">
        <p>第4章　過去を探る</p>

        <p>朝露が溶け始めた頃、太陽の光が薄暗い森を照らし始める。湿った草木から漂う土の匂いと霧の中にある古びた石碑の冷たさに触れながら、佐藤有里は宮崎浩平と共に考古学的な調査地へ向かっていた。</p>

        <p>「ここが遺跡の中心部だな」</p>
        <p>彼女の声を受けて浩平もまた視線を広げて周囲を見回す。石組みが崩れた穴や、壊れて転がる巨大な像たち。風化した石材の細かい粒度から春先の雨に打たれる音まで響く。</p>

        <p>有里は足元にある凹んだ痕跡を指さし、「ここにも何か埋まっているだろう」と囁いた。</p>
        <p>「調査が始まるか？」</p>

        <p>浩平が手回り品を並べ、ローピングで区画の境界線を作った。彼女たちの作業開始と共に風は弱まり、周辺に広がる雑多な音響があっという間に静寂へと変わり始めた。</p>

        <p>「まずは土壌サンプルからだ」</p>
        <p>浩平が地面を掘り進めていく一方で有里もまた空いた穴の周りに沿って草木や砂埃を集め始める。その間にも二人は話しかけあいながら、古代遺跡への洞察を探る。</p>

        <p>「音楽はどうやって表現していたんだろうね？」彼女の問いかけには答えず、浩平は頷いて頭を振り出し再び土の中へと手を入れていく。</p>
        <p>そこから一時間後、掘削が深まるにつれ周囲の石碑や像たちもまた以前とは異なった光に包まれていった。</p>

        <p>「ここだ！」彼女が小さな叫び声と共に地面を叩く。見つかったのは古めかしい楽器の断片だった。</p>
        <p>有里はそれをそっと取り上げ、それを見つめる目を伏せる。「音」を感じるためには何が必要なのか問い続けているその表情に、浩平もまた息を呑む。</p>

        <p>彼女の口から漏れた言葉が風に乗って伝わるように、浩平の手は一瞬止まった。しかしすぐに再び動き始めると同時に、二人とも周囲を見回した。</p>
        <p>遺跡全体が静寂に包まれている中でその問いかけ一つだけが響いていた。</p>

        <p>その後も調査を続けた彼女たちだったが、日暮れとともに彼らの作業は一時中断となった。夕陽が雲間に差し込んでくる光の中で二人とも再び考え込む。</p>
        <p>「火と音楽の関係性」その言葉一つだけでもこの世界ではどれほど深遠な問いかけとなるのかを改めて感じていた。</p>

        <p>翌日、また新たな発見があり遺跡からは更に多くの痕跡が現れた。そこには古代の人々が如何にして物語や感情を「音」として表現していたかについてのヒントがあった。</p>
        <p>一方で有里はその全てから一つだけ疑問を感じ続けていた。「火」が必要とされていた理由。</p>

        <p>そして彼女たちは遺跡深くへと進んでいった。ここに隠された真実、過去を探るためだ。</p>
        <p>周囲には日差しが弱まり始め、冷たい風が吹き始めた。その中で二人はさらに調査を進めると共に、互いの手を取り合って前に進むことを決めた。</p>

        <p>発掘作業から一夜明けても有里と浩平は遺跡深くへと足を踏み入れ続けていた。</p>
        <p>そこには古代の人々が如何にして「火」やその他の道具を使って音楽を作り出し、人々の心に響かせていたのかについての一端が明らかになりつつあった。</p>

        <p>そしてある日、「火」という言葉と共に彼らは何か重要なものを発見した。遺跡深くへと入り込んだ二人が視界に入れたのは炎で暖められた石や陶器だった。</p>
        <p>その一角にある小さな穴からは、かつてそこで音楽を奏でた証しとなる古びた弦の一部も出土していた。</p>

        <p>「これが答えなんだ」彼女は静かに囁いた。「火があるからこそ音があった。それが本当だよ」</p>

        <p>浩平がその言葉を受け止めつつ調査作業と向き合い続ける中、有里は遺跡を埋めた土壌や石の間を通り抜けていく光を見つめ続けていた。</p>

        <p>周囲には風が吹き荒れ始め、彼ら二人にも最後の一日が始まりつつあった。しかし未だに答えを見つけられずにいるその顔たちからは、明日への希望もまた感じられた。</p>
        <p>遺跡は静寂の中で息を潜めていて、そこから聞こえる音もなく、観る風景もない。</p>

        <p>それでも有里と浩平は再び手を取り合い互いの目を見つめ合う。二人で進む道がまだ遠く続いていることを分かっていた彼らにとって、それが明日への最良の準備だった。</p>
        <p>そこで彼らは遺跡深くに残された「火」その存在を探し求めていたのだ。</p>

        <p>夜明けと共に遺跡には新たな一日が始まった。しかし有里と浩平二人だけでは答えを出せない可能性もまた同時に現実となっていた。それ故、彼らがこれから何をするかについては誰にも分からない。</p>
        <p>ただそこに広がる静寂は変わらずに続いているのであった。</p>

        <p>光の粒子が空気と共に舞い上がり、その先には再び未知なる世界へと手を伸ばす二人がいた。</p>
      </div>
    </section>
    <section class="chapter" id="chapter-5">
      <div class="chapter-header">
        <span class="chapter-number">第5章</span>
        <h2 class="chapter-title">新しい発見</h2>
      </div>
      
      <div class="chapter-body">
        <p>第5章　新しい発見</p>

        <p>空気が冷たく湿り気を感じる朝。霧が薄暗い遺跡の石畳に静かに浮遊していた。月明かりと薄曇が混ざった光は、遠くから覗いた建物の中へ緩やかな波を押し寄せるように差し込んでくる。</p>

        <p>「ここだ」浩平が低く囁きながら歩みを進める。</p>
        <p>彼らの手元にある古い楽器の断片。それがなぜ火に依存していたのか？</p>

        <p>音は聞こえないのに、鼓膜の奥底で何か揺さぶられる感覚があった。「もし火と音楽がある関係性があれば」有里が呟く声は静かな霧の中に溶け込んでいく。</p>

        <p>「試すしかない。手近な素材を使って、古代の演奏法を再現するんだ」</p>

        <p>石畳に落ちた枯葉のざわめきだけが聞こえる中、二人は遺跡の一隅で道具を取り出す。</p>
        <p>火種を起こしやすくした木片と細い金属の棒。</p>

        <p>「準備できました」有里が立ち上がりながら、その目元には深い静けさがあった。宮崎浩平もそれに応えようにして深呼吸をする。「始めます」</p>

        <p>彼らは互いに視線で確認し合い、それぞれが楽器を手繰り寄せる。</p>
        <p>金属の棒が石板と擦れ合う音。砂埃が舞う。</p>

        <p>「火種から微弱な振動が始まる」</p>
        <p>「そしてそれが増幅される。最終的に音として我々へ伝わる」</p>

        <p>浩平は炎を掻き立てるように、金属棒に力を込めて摩擦する。</p>
        <p>徐々に燃えるものの中では小さな火花が飛び跳ね始め、一筋の線となって広がっていく。</p>

        <p>有里はその光景を見つめながら頷く。「火があるからこそ聞こえた音。それが証明された」</p>

        <p>二人は互いを改めて見詰めた。</p>
        <p>炎と楽器との間に生じる化学反応や物理的な相互作用を見る事で、彼らの心に新たな理解が広がっていく。</p>

        <p>「次は何を探せばいいんだろう？」有里が首を傾げる。「音楽があった世界」</p>
        <p>宮崎浩平は静かに笑って、「それが私たちの次の課題だ」と答える。</p>
        <p>その言葉を受け取った彼女も同じように微笑んだ。新たな一歩が始まる。</p>

        <p>石畳から漂う湿り気と共に、朝が光を増していく。彼らの視界にはまだ多くの謎が広がっているが、それでも希望はあった。「答えがある」それは確信に近い感情だった。</p>
        <p>そして、彼女たちはまた一度手を取り合った。</p>
      </div>
    </section>
    <section class="chapter" id="chapter-6">
      <div class="chapter-header">
        <span class="chapter-number">第6章</span>
        <h2 class="chapter-title">すべての始まり</h2>
      </div>
      
      <div class="chapter-body">
        <p>第6章　すべての始まり</p>

        <p>朝霧が薄れていく。遠くで聞こえる鳥のさえずり。地面に広がる靄、青と緑のグラデーションの木々。有里は手袋を握って深呼吸する。</p>

        <p>「ここだよ」</p>

        <p>宮崎浩平が囁いた。彼女の耳元へ近づき、口の中で発音した言葉は静寂に溶けた。</p>
        <p>二人の前にある遺跡にはかつて楽器があったことを示す痕跡しか残っていない。荒廃した都市から遠ざかって、彼らは何日も歩んできた。</p>

        <p>「あの手前の木の下」</p>

        <p>宮崎が向きを変えると、有里は微かな音を追うように彼の横に並ぶ。</p>
        <p>枯葉の上を踏む足音だけ響く。二人の間には言葉もなく、ただ空気の中で呼吸する音が聞こえた。</p>

        <p>「今だ」</p>

        <p>そのタイミングで宮崎が手渡した火種。「ポチッ」と乾いた音と共に炎は生まれた。</p>

        <p>有里は目を見開き、息を止める。</p>
        <p>燃える木々の間から漏れる光。それは遠く過去にまで届くような色だった。</p>

        <p>「できるか？」</p>

        <p>問いかける声が風に乗って広がる。</p>
        <p>彼女は頷いて、古い楽器を持ち上げた。</p>
        <p>触れた瞬間に温もりを感じて、指先で弦を弾いた。</p>

        <p>炎の揺らめきに合わせるように音が生まれていく。それは遠くから響き渡り、この遺跡全体を包み込んだ。暖かな光と色とりどりな香りが混ざって広がっていく。</p>
        <p>宮崎は静かだった。ただ、彼女の演奏を見つめていた。</p>

        <p>「すごいね」</p>

        <p>有里の口元に僅かな笑みが浮かぶ。二人とも頷きながら視線を交差させる。</p>

        <p>「音楽とは何か？　本当にそれが失われたのか疑問を持ち続けたら…」</p>

        <p>それだけ言って、彼女はまた弦をはじく。</p>
        <p>風に乗って響き渡る音の波紋。それは有里と宮崎たちが見つけた答えであり、新たな始まりでもあった。</p>

        <p>「あの人々が経験した音楽とは全く異なる感覚だったろうね」</p>

        <p>炎に包まれた古い楽器から聞こえてくる低く深い鳴り響き。「まるで過去からの呼びかけのようだ」と思える程遠い、しかし今ここにある。</p>
        <p>有里は再び視線を宮崎へ向け、「音と感情が直接結びつくって不思議じゃない？」と呟いた。</p>

        <p>二人の間には言葉もなくただ炎だけ。それは過去から未来への架け橋のように見えた。</p>
        <p>光と影の間に、彼らは何を見つめているのか？</p>

        <p>夜明けと共に再び霧に包まれる遺跡。「すべてが始まった」と思える程静かで深い朝が訪れようとしていた。</p>

        <p>遠く聞こえてくる鳥たちの声。それは新たな一日への呼びかけだった。</p>
        <p>そしてそこからまた、有里と宮崎は旅を続けるため足を動かし始めた。</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <p>もし火が使えなければ音楽はなかった</p>
    <p>Generated locally with Ollama + Stable Diffusion</p>
  </footer>


  <button class="tts-fab" id="ttsFab" onclick="ttsToggle()" title="Read aloud">
    <span id="ttsFabIcon">&#x1f50a;</span>
  </button>
  <div class="tts-bar" id="ttsBar">
    <button onclick="ttsPause()" id="ttsPauseBtn">&#x23f8;</button>
    <button onclick="ttsStop()">&#x23f9;</button>
    <button onclick="ttsPrev()">&#x23ee;</button>
    <button onclick="ttsNext()">&#x23ed;</button>
    <span class="tts-info" id="ttsInfo">Ready</span>
    <span class="tts-speed">
      <input type="range" id="ttsSpeed" min="0.5" max="2.0" step="0.1"
             value="1.0" onchange="ttsSetSpeed(this.value)" />
      <span id="ttsSpeedVal">1.0x</span>
    </span>
  </div>

  <button class="mode-toggle" onclick="toggleMode()">🌗 表示切替</button>

  <script>
    // Reading mode
    function toggleMode() {
      document.body.classList.toggle('light');
      localStorage.setItem('mode', document.body.classList.contains('light') ? 'light' : 'dark');
    }
    if (localStorage.getItem('mode') === 'light') document.body.classList.add('light');

    // Scroll progress
    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const pct = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
      document.getElementById('progress').style.width = pct + '%';
    });

    // === TTS (Web Speech API) ===
    const synth = window.speechSynthesis;
    let ttsChs = [], ttsI = 0, ttsRate = 1.0, ttsOn = false, ttsPd = false;

    document.querySelectorAll('.chapter').forEach((sec, i) => {
      const b = sec.querySelector('.chapter-body');
      const t = sec.querySelector('.chapter-title');
      if (b) ttsChs.push({
        title: t ? t.textContent : ('Ch.' + (i+1)),
        text: b.textContent.trim(), el: sec
      });
    });

    function ttsToggle() {
      if (!synth) { alert('Speech not supported'); return; }
      if (ttsOn) { ttsStop(); return; }
      const sy = window.scrollY + window.innerHeight / 3;
      let cl = 0;
      ttsChs.forEach((c, i) => { if (c.el.offsetTop <= sy) cl = i; });
      ttsI = cl; ttsOn = true; ttsPd = false;
      document.getElementById('ttsFab').classList.add('speaking');
      document.getElementById('ttsFabIcon').innerHTML = '&#x23f9;';
      document.getElementById('ttsBar').classList.add('active');
      _ttsRead();
    }

    function _ttsRead() {
      if (ttsI >= ttsChs.length) { ttsStop(); return; }
      synth.cancel();
      const ch = ttsChs[ttsI];
      document.getElementById('ttsInfo').textContent = ch.title;
      ch.el.scrollIntoView({ behavior: 'smooth', block: 'start' });

      // Split by Japanese sentence endings for reliable playback
      const sents = ch.text.match(/[^。！？
]+[。！？]?/g) || [ch.text];
      let si = 0;

      function next() {
        if (!ttsOn) return;
        if (si >= sents.length) {
          ttsI++;
          if (ttsI < ttsChs.length) setTimeout(_ttsRead, 800);
          else ttsStop();
          return;
        }
        const u = new SpeechSynthesisUtterance(sents[si].trim());
        u.lang = 'ja-JP'; u.rate = ttsRate;
        const vs = synth.getVoices();
        const jv = vs.find(v => v.lang && v.lang.startsWith('ja'));
        if (jv) u.voice = jv;
        u.onend = () => { si++; next(); };
        u.onerror = () => { si++; next(); };
        synth.speak(u);
      }
      next();
    }

    function ttsPause() {
      if (!ttsOn) return;
      if (ttsPd) {
        synth.resume(); ttsPd = false;
        document.getElementById('ttsPauseBtn').innerHTML = '&#x23f8;';
      } else {
        synth.pause(); ttsPd = true;
        document.getElementById('ttsPauseBtn').innerHTML = '&#x25b6;';
      }
    }

    function ttsStop() {
      synth.cancel(); ttsOn = false; ttsPd = false;
      document.getElementById('ttsFab').classList.remove('speaking');
      document.getElementById('ttsFabIcon').innerHTML = '&#x1f50a;';
      document.getElementById('ttsBar').classList.remove('active');
      document.getElementById('ttsInfo').textContent = 'Ready';
      document.getElementById('ttsPauseBtn').innerHTML = '&#x23f8;';
    }

    function ttsNext() { if (ttsOn && ttsI < ttsChs.length - 1) { ttsI++; _ttsRead(); } }
    function ttsPrev() { if (ttsOn && ttsI > 0) { ttsI--; _ttsRead(); } }
    function ttsSetSpeed(v) {
      ttsRate = parseFloat(v);
      document.getElementById('ttsSpeedVal').textContent = v + 'x';
    }
    if (synth) synth.onvoiceschanged = () => synth.getVoices();

    /* ─── Carousel ─── */
    (function() {
      const track = document.getElementById('carouselTrack');
      if (!track) return;
      const dots = track.parentElement.querySelectorAll('.carousel-dot');
      const slides = track.querySelectorAll('.carousel-slide');
      if (slides.length < 1) return;
      function updateDots() {
        const sw = slides[0].offsetWidth + 14;
        const idx = Math.round(track.scrollLeft / sw);
        dots.forEach((d, i) => d.classList.toggle('active', i === idx));
      }
      track.addEventListener('scroll', updateDots, { passive: true });
      dots.forEach(d => d.addEventListener('click', () => {
        const sw = slides[0].offsetWidth + 14;
        track.scrollTo({ left: parseInt(d.dataset.idx) * sw, behavior: 'smooth' });
      }));
      let paused = false, timer = setInterval(() => {
        if (paused) return;
        const sw = slides[0].offsetWidth + 14;
        const mx = track.scrollWidth - track.clientWidth;
        const nx = track.scrollLeft + sw;
        track.scrollTo({ left: nx > mx ? 0 : nx, behavior: 'smooth' });
      }, 4000);
      track.addEventListener('touchstart', () => { paused = true; clearInterval(timer); }, { passive: true });
      track.addEventListener('touchend', () => {
        paused = false;
        timer = setInterval(() => {
          if (paused) return;
          const sw = slides[0].offsetWidth + 14;
          const mx = track.scrollWidth - track.clientWidth;
          const nx = track.scrollLeft + sw;
          track.scrollTo({ left: nx > mx ? 0 : nx, behavior: 'smooth' });
        }, 4000);
      }, { passive: true });
    })();

  </script>
</body>
</html>